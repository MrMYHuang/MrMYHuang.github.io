try{self["workbox:core:5.1.4"]&&_()}catch{}const X=(s,...e)=>{let t=s;return e.length>0&&(t+=` :: ${JSON.stringify(e)}`),t},Y=X;class d extends Error{constructor(e,t){const n=Y(e,t);super(n),this.name=e,this.details=t}}const k=new Set;function Z(s){k.add(s)}const p={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:typeof registration<"u"?registration.scope:""},S=s=>[p.prefix,s,p.suffix].filter(e=>e&&e.length>0).join("-"),ee=s=>{for(const e of Object.keys(p))s(e)},D={updateDetails:s=>{ee(e=>{typeof s[e]=="string"&&(p[e]=s[e])})},getGoogleAnalyticsName:s=>s||S(p.googleAnalytics),getPrecacheName:s=>s||S(p.precache),getPrefix:()=>p.prefix,getRuntimeName:s=>s||S(p.runtime),getSuffix:()=>p.suffix};async function te(){for(const s of k)await s()}const se=s=>new URL(String(s),location.href).href.replace(new RegExp(`^${location.origin}`),""),K={filter:(s,e)=>s.filter(t=>e in t)},H=async({request:s,mode:e,plugins:t=[]})=>{const n=K.filter(t,"cacheKeyWillBeUsed");let r=s;for(const a of n)r=await a.cacheKeyWillBeUsed.call(a,{mode:e,request:r}),typeof r=="string"&&(r=new Request(r));return r},ne=async({request:s,response:e,event:t,plugins:n=[]})=>{let r=e,a=!1;for(const c of n)if("cacheWillUpdate"in c&&(a=!0,r=await c.cacheWillUpdate.call(c,{request:s,response:r,event:t}),!r))break;return a||(r=r&&r.status===200?r:void 0),r||null},v=async({cacheName:s,request:e,event:t,matchOptions:n,plugins:r=[]})=>{const a=await self.caches.open(s),c=await H({plugins:r,request:e,mode:"read"});let o=await a.match(c,n);for(const i of r)"cachedResponseWillBeUsed"in i&&(o=await i.cachedResponseWillBeUsed.call(i,{cacheName:s,event:t,matchOptions:n,cachedResponse:o,request:c}));return o},re=async({cacheName:s,request:e,response:t,event:n,plugins:r=[],matchOptions:a})=>{const c=await H({plugins:r,request:e,mode:"write"});if(!t)throw new d("cache-put-with-no-response",{url:se(c.url)});const o=await ne({event:n,plugins:r,response:t,request:c});if(!o)return;const i=await self.caches.open(s),l=K.filter(r,"cacheDidUpdate"),h=l.length>0?await v({cacheName:s,matchOptions:a,request:c}):null;try{await i.put(c,o)}catch(u){throw u.name==="QuotaExceededError"&&await te(),u}for(const u of l)await u.cacheDidUpdate.call(u,{cacheName:s,event:n,oldResponse:h,newResponse:o,request:c})},N={put:re,match:v};let R;function ae(){if(R===void 0){const s=new Response("");if("body"in s)try{new Response(s.body),R=!0}catch{R=!1}R=!1}return R}function $(s){s.then(()=>{})}class I{constructor(e,t,{onupgradeneeded:n,onversionchange:r}={}){this._db=null,this._name=e,this._version=t,this._onupgradeneeded=n,this._onversionchange=r||(()=>this.close())}get db(){return this._db}async open(){if(!this._db)return this._db=await new Promise((e,t)=>{let n=!1;setTimeout(()=>{n=!0,t(new Error("The open request was blocked and timed out"))},this.OPEN_TIMEOUT);const r=indexedDB.open(this._name,this._version);r.onerror=()=>t(r.error),r.onupgradeneeded=a=>{n?(r.transaction.abort(),r.result.close()):typeof this._onupgradeneeded=="function"&&this._onupgradeneeded(a)},r.onsuccess=()=>{const a=r.result;n?a.close():(a.onversionchange=this._onversionchange.bind(this),e(a))}}),this}async getKey(e,t){return(await this.getAllKeys(e,t,1))[0]}async getAll(e,t,n){return await this.getAllMatching(e,{query:t,count:n})}async getAllKeys(e,t,n){return(await this.getAllMatching(e,{query:t,count:n,includeKeys:!0})).map(a=>a.key)}async getAllMatching(e,{index:t,query:n=null,direction:r="next",count:a,includeKeys:c=!1}={}){return await this.transaction([e],"readonly",(o,i)=>{const l=o.objectStore(e),h=t?l.index(t):l,u=[],g=h.openCursor(n,r);g.onsuccess=()=>{const m=g.result;m?(u.push(c?m:m.value),a&&u.length>=a?i(u):m.continue()):i(u)}})}async transaction(e,t,n){return await this.open(),await new Promise((r,a)=>{const c=this._db.transaction(e,t);c.onabort=()=>a(c.error),c.oncomplete=()=>r(),n(c,o=>r(o))})}async _call(e,t,n,...r){const a=(c,o)=>{const i=c.objectStore(t),l=i[e].apply(i,r);l.onsuccess=()=>o(l.result)};return await this.transaction([t],n,a)}close(){this._db&&(this._db.close(),this._db=null)}}I.prototype.OPEN_TIMEOUT=2e3;const oe={readonly:["get","count","getKey","getAll","getAllKeys"],readwrite:["add","put","clear","delete"]};for(const[s,e]of Object.entries(oe))for(const t of e)t in IDBObjectStore.prototype&&(I.prototype[t]=async function(n,...r){return await this._call(t,n,s,...r)});const ce=async s=>{await new Promise((e,t)=>{const n=indexedDB.deleteDatabase(s);n.onerror=()=>{t(n.error)},n.onblocked=()=>{t(new Error("Delete blocked"))},n.onsuccess=()=>{e()}})},ie=async({request:s,fetchOptions:e,event:t,plugins:n=[]})=>{if(typeof s=="string"&&(s=new Request(s)),t instanceof FetchEvent&&t.preloadResponse){const o=await t.preloadResponse;if(o)return o}const r=K.filter(n,"fetchDidFail"),a=r.length>0?s.clone():null;try{for(const o of n)if("requestWillFetch"in o){const i=o.requestWillFetch,l=s.clone();s=await i.call(o,{request:l,event:t})}}catch(o){throw new d("plugin-error-request-will-fetch",{thrownError:o})}const c=s.clone();try{let o;s.mode==="navigate"?o=await fetch(s):o=await fetch(s,e);for(const i of n)"fetchDidSucceed"in i&&(o=await i.fetchDidSucceed.call(i,{event:t,request:c,response:o}));return o}catch(o){for(const i of r)await i.fetchDidFail.call(i,{error:o,event:t,originalRequest:a.clone(),request:c.clone()});throw o}},V={fetch:ie};async function ue(s,e){const t=s.clone(),n={headers:new Headers(t.headers),status:t.status,statusText:t.statusText},r=e?e(n):n,a=ae()?t.body:await t.blob();return new Response(a,r)}function le(){self.addEventListener("activate",()=>self.clients.claim())}try{self["workbox:expiration:5.1.4"]&&_()}catch{}const he="workbox-expiration",w="cache-entries",M=s=>{const e=new URL(s,location.href);return e.hash="",e.href};class de{constructor(e){this._cacheName=e,this._db=new I(he,1,{onupgradeneeded:t=>this._handleUpgrade(t)})}_handleUpgrade(e){const n=e.target.result.createObjectStore(w,{keyPath:"id"});n.createIndex("cacheName","cacheName",{unique:!1}),n.createIndex("timestamp","timestamp",{unique:!1}),ce(this._cacheName)}async setTimestamp(e,t){e=M(e);const n={url:e,timestamp:t,cacheName:this._cacheName,id:this._getId(e)};await this._db.put(w,n)}async getTimestamp(e){return(await this._db.get(w,this._getId(e))).timestamp}async expireEntries(e,t){const n=await this._db.transaction(w,"readwrite",(a,c)=>{const i=a.objectStore(w).index("timestamp").openCursor(null,"prev"),l=[];let h=0;i.onsuccess=()=>{const u=i.result;if(u){const g=u.value;g.cacheName===this._cacheName&&(e&&g.timestamp<e||t&&h>=t?l.push(u.value):h++),u.continue()}else c(l)}}),r=[];for(const a of n)await this._db.delete(w,a.id),r.push(a.url);return r}_getId(e){return this._cacheName+"|"+M(e)}}class fe{constructor(e,t={}){this._isRunning=!1,this._rerunRequested=!1,this._maxEntries=t.maxEntries,this._maxAgeSeconds=t.maxAgeSeconds,this._cacheName=e,this._timestampModel=new de(e)}async expireEntries(){if(this._isRunning){this._rerunRequested=!0;return}this._isRunning=!0;const e=this._maxAgeSeconds?Date.now()-this._maxAgeSeconds*1e3:0,t=await this._timestampModel.expireEntries(e,this._maxEntries),n=await self.caches.open(this._cacheName);for(const r of t)await n.delete(r);this._isRunning=!1,this._rerunRequested&&(this._rerunRequested=!1,$(this.expireEntries()))}async updateTimestamp(e){await this._timestampModel.setTimestamp(e,Date.now())}async isURLExpired(e){if(this._maxAgeSeconds){const t=await this._timestampModel.getTimestamp(e),n=Date.now()-this._maxAgeSeconds*1e3;return t<n}else return!1}async delete(){this._rerunRequested=!1,await this._timestampModel.expireEntries(1/0)}}class pe{constructor(e={}){this.cachedResponseWillBeUsed=async({event:t,request:n,cacheName:r,cachedResponse:a})=>{if(!a)return null;const c=this._isResponseDateFresh(a),o=this._getCacheExpiration(r);$(o.expireEntries());const i=o.updateTimestamp(n.url);if(t)try{t.waitUntil(i)}catch{}return c?a:null},this.cacheDidUpdate=async({cacheName:t,request:n})=>{const r=this._getCacheExpiration(t);await r.updateTimestamp(n.url),await r.expireEntries()},this._config=e,this._maxAgeSeconds=e.maxAgeSeconds,this._cacheExpirations=new Map,e.purgeOnQuotaError&&Z(()=>this.deleteCacheAndMetadata())}_getCacheExpiration(e){if(e===D.getRuntimeName())throw new d("expire-custom-caches-only");let t=this._cacheExpirations.get(e);return t||(t=new fe(e,this._config),this._cacheExpirations.set(e,t)),t}_isResponseDateFresh(e){if(!this._maxAgeSeconds)return!0;const t=this._getDateHeaderTimestamp(e);if(t===null)return!0;const n=Date.now();return t>=n-this._maxAgeSeconds*1e3}_getDateHeaderTimestamp(e){if(!e.headers.has("date"))return null;const t=e.headers.get("date"),r=new Date(t).getTime();return isNaN(r)?null:r}async deleteCacheAndMetadata(){for(const[e,t]of this._cacheExpirations)await self.caches.delete(e),await t.delete();this._cacheExpirations=new Map}}try{self["workbox:precaching:5.1.4"]&&_()}catch{}const q=[],ge={get(){return q},add(s){q.push(...s)}},me="__WB_REVISION__";function we(s){if(!s)throw new d("add-to-cache-list-unexpected-type",{entry:s});if(typeof s=="string"){const a=new URL(s,location.href);return{cacheKey:a.href,url:a.href}}const{revision:e,url:t}=s;if(!t)throw new d("add-to-cache-list-unexpected-type",{entry:s});if(!e){const a=new URL(t,location.href);return{cacheKey:a.href,url:a.href}}const n=new URL(t,location.href),r=new URL(t,location.href);return n.searchParams.set(me,e),{cacheKey:n.href,url:r.href}}class ye{constructor(e){this._cacheName=D.getPrecacheName(e),this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map}addToCacheList(e){const t=[];for(const n of e){typeof n=="string"?t.push(n):n&&n.revision===void 0&&t.push(n.url);const{cacheKey:r,url:a}=we(n),c=typeof n!="string"&&n.revision?"reload":"default";if(this._urlsToCacheKeys.has(a)&&this._urlsToCacheKeys.get(a)!==r)throw new d("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(a),secondEntry:r});if(typeof n!="string"&&n.integrity){if(this._cacheKeysToIntegrities.has(r)&&this._cacheKeysToIntegrities.get(r)!==n.integrity)throw new d("add-to-cache-list-conflicting-integrities",{url:a});this._cacheKeysToIntegrities.set(r,n.integrity)}if(this._urlsToCacheKeys.set(a,r),this._urlsToCacheModes.set(a,c),t.length>0){const o=`Workbox is precaching URLs without revision info: ${t.join(", ")}
This is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(o)}}}async install({event:e,plugins:t}={}){const n=[],r=[],c=await(await self.caches.open(this._cacheName)).keys(),o=new Set(c.map(h=>h.url));for(const[h,u]of this._urlsToCacheKeys)o.has(u)?r.push(h):n.push({cacheKey:u,url:h});const i=n.map(({cacheKey:h,url:u})=>{const g=this._cacheKeysToIntegrities.get(h),m=this._urlsToCacheModes.get(u);return this._addURLToCache({cacheKey:h,cacheMode:m,event:e,integrity:g,plugins:t,url:u})});return await Promise.all(i),{updatedURLs:n.map(h=>h.url),notUpdatedURLs:r}}async activate(){const e=await self.caches.open(this._cacheName),t=await e.keys(),n=new Set(this._urlsToCacheKeys.values()),r=[];for(const a of t)n.has(a.url)||(await e.delete(a),r.push(a.url));return{deletedURLs:r}}async _addURLToCache({cacheKey:e,url:t,cacheMode:n,event:r,plugins:a,integrity:c}){const o=new Request(t,{integrity:c,cache:n,credentials:"same-origin"});let i=await V.fetch({event:r,plugins:a,request:o}),l;for(const u of a||[])"cacheWillUpdate"in u&&(l=u);if(!(l?await l.cacheWillUpdate({event:r,request:o,response:i}):i.status<400))throw new d("bad-precaching-response",{url:t,status:i.status});i.redirected&&(i=await ue(i)),await N.put({event:r,plugins:a,response:i,request:e===t?o:new Request(e),cacheName:this._cacheName,matchOptions:{ignoreSearch:!0}})}getURLsToCacheKeys(){return this._urlsToCacheKeys}getCachedURLs(){return[...this._urlsToCacheKeys.keys()]}getCacheKeyForURL(e){const t=new URL(e,location.href);return this._urlsToCacheKeys.get(t.href)}async matchPrecache(e){const t=e instanceof Request?e.url:e,n=this.getCacheKeyForURL(t);if(n)return(await self.caches.open(this._cacheName)).match(n)}createHandler(e=!0){return async({request:t})=>{try{const n=await this.matchPrecache(t);if(n)return n;throw new d("missing-precache-entry",{cacheName:this._cacheName,url:t instanceof Request?t.url:t})}catch(n){if(e)return fetch(t);throw n}}}createHandlerBoundToURL(e,t=!0){if(!this.getCacheKeyForURL(e))throw new d("non-precached-url",{url:e});const r=this.createHandler(t),a=new Request(e);return()=>r({request:a})}}let P;const E=()=>(P||(P=new ye),P);function _e(s,e=[]){for(const t of[...s.searchParams.keys()])e.some(n=>n.test(t))&&s.searchParams.delete(t);return s}function*Re(s,{ignoreURLParametersMatching:e,directoryIndex:t,cleanURLs:n,urlManipulation:r}={}){const a=new URL(s,location.href);a.hash="",yield a.href;const c=_e(a,e);if(yield c.href,t&&c.pathname.endsWith("/")){const o=new URL(c.href);o.pathname+=t,yield o.href}if(n){const o=new URL(c.href);o.pathname+=".html",yield o.href}if(r){const o=r({url:a});for(const i of o)yield i.href}}const Ce=(s,e)=>{const n=E().getURLsToCacheKeys();for(const r of Re(s,e)){const a=n.get(r);if(a)return a}},xe=({ignoreURLParametersMatching:s=[/^utm_/],directoryIndex:e="index.html",cleanURLs:t=!0,urlManipulation:n}={})=>{const r=D.getPrecacheName();self.addEventListener("fetch",a=>{const c=Ce(a.request.url,{cleanURLs:t,directoryIndex:e,ignoreURLParametersMatching:s,urlManipulation:n});if(!c)return;let o=self.caches.open(r).then(i=>i.match(c)).then(i=>i||fetch(c));a.respondWith(o)})};let O=!1;function Ee(s){O||(xe(s),O=!0)}function be(s){return E().createHandlerBoundToURL(s)}const Te=s=>{const e=E(),t=ge.get();s.waitUntil(e.install({event:s,plugins:t}).catch(n=>{throw n}))},Ue=s=>{const e=E();s.waitUntil(e.activate())};function Ae(s){E().addToCacheList(s),s.length>0&&(self.addEventListener("install",Te),self.addEventListener("activate",Ue))}function De(s,e){Ae(s),Ee(e)}try{self["workbox:routing:5.1.4"]&&_()}catch{}const Fe="GET",B=s=>s&&typeof s=="object"?s:{handle:s};class T{constructor(e,t,n=Fe){this.handler=B(t),this.match=e,this.method=n}}class Le extends T{constructor(e,t,n){const r=({url:a})=>{const c=e.exec(a.href);if(!!c&&!(a.origin!==location.origin&&c.index!==0))return c.slice(1)};super(r,t,n)}}class Se{constructor(){this._routes=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",e=>{const{request:t}=e,n=this.handleRequest({request:t,event:e});n&&e.respondWith(n)})}addCacheListener(){self.addEventListener("message",e=>{if(e.data&&e.data.type==="CACHE_URLS"){const{payload:t}=e.data,n=Promise.all(t.urlsToCache.map(r=>{typeof r=="string"&&(r=[r]);const a=new Request(...r);return this.handleRequest({request:a})}));e.waitUntil(n),e.ports&&e.ports[0]&&n.then(()=>e.ports[0].postMessage(!0))}})}handleRequest({request:e,event:t}){const n=new URL(e.url,location.href);if(!n.protocol.startsWith("http"))return;const{params:r,route:a}=this.findMatchingRoute({url:n,request:e,event:t});let c=a&&a.handler;if(!c&&this._defaultHandler&&(c=this._defaultHandler),!c)return;let o;try{o=c.handle({url:n,request:e,event:t,params:r})}catch(i){o=Promise.reject(i)}return o instanceof Promise&&this._catchHandler&&(o=o.catch(i=>this._catchHandler.handle({url:n,request:e,event:t}))),o}findMatchingRoute({url:e,request:t,event:n}){const r=this._routes.get(t.method)||[];for(const a of r){let c;const o=a.match({url:e,request:t,event:n});if(o)return c=o,(Array.isArray(o)&&o.length===0||o.constructor===Object&&Object.keys(o).length===0||typeof o=="boolean")&&(c=void 0),{route:a,params:c}}return{}}setDefaultHandler(e){this._defaultHandler=B(e)}setCatchHandler(e){this._catchHandler=B(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new d("unregister-route-but-not-found-with-method",{method:e.method});const t=this._routes.get(e.method).indexOf(e);if(t>-1)this._routes.get(e.method).splice(t,1);else throw new d("unregister-route-route-not-registered")}}let C;const Pe=()=>(C||(C=new Se,C.addFetchListener(),C.addCacheListener()),C);function F(s,e,t){let n;if(typeof s=="string"){const a=new URL(s,location.href),c=({url:o})=>o.href===a.href;n=new T(c,e,t)}else if(s instanceof RegExp)n=new Le(s,e,t);else if(typeof s=="function")n=new T(s,e,t);else if(s instanceof T)n=s;else throw new d("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});return Pe().registerRoute(n),n}try{self["workbox:strategies:5.1.4"]&&_()}catch{}const j={cacheWillUpdate:async({response:s})=>s.status===200||s.status===0?s:null};class We{constructor(e={}){if(this._cacheName=D.getRuntimeName(e.cacheName),this._plugins=e.plugins||[],e.plugins){const t=e.plugins.some(n=>!!n.cacheWillUpdate);this._plugins=t?e.plugins:[j,...e.plugins]}else this._plugins=[j];this._fetchOptions=e.fetchOptions,this._matchOptions=e.matchOptions}async handle({event:e,request:t}){typeof t=="string"&&(t=new Request(t));const n=this._getFromNetwork({request:t,event:e});let r=await N.match({cacheName:this._cacheName,request:t,event:e,matchOptions:this._matchOptions,plugins:this._plugins}),a;if(r){if(e)try{e.waitUntil(n)}catch{}}else try{r=await n}catch(c){a=c}if(!r)throw new d("no-response",{url:t.url,error:a});return r}async _getFromNetwork({request:e,event:t}){const n=await V.fetch({request:e,event:t,fetchOptions:this._fetchOptions,plugins:this._plugins}),r=N.put({cacheName:this._cacheName,request:e,response:n.clone(),event:t,plugins:this._plugins});if(t)try{t.waitUntil(r)}catch{}return n}}const Ne={indexedDBHost:"indexdb.com",famousJuans:[{title:"\u822C\u82E5\u6CE2\u7F85\u871C\u591A\u5FC3\u7D93",url:"/catalog/juan/T0251/1"},{title:"\u91D1\u525B\u822C\u82E5\u6CE2\u7F85\u871C\u7D93",url:"/catalog/juan/T0235/1"},{title:"\u4F5B\u8AAA\u963F\u5F4C\u9640\u7D93",url:"/catalog/juan/T0366/1"},{title:"\u4F5B\u8AAA\u7121\u91CF\u58FD\u7D93\u5377\u4E0A",url:"/catalog/juan/T0360/1"},{title:"\u4F5B\u8AAA\u89C0\u7121\u91CF\u58FD\u4F5B\u7D93",url:"/catalog/juan/T0365/1"},{title:"\u85E5\u5E2B\u7409\u7483\u5149\u5982\u4F86\u672C\u9858\u529F\u5FB7\u7D93",url:"/catalog/juan/T0450/1"},{title:"\u4F5B\u8AAA\u89C0\u5F4C\u52D2\u83E9\u85A9\u4E0A\u751F\u515C\u7387\u5929\u7D93",url:"/catalog/juan/T0452/1"},{title:"\u4F5B\u8AAA\u5F4C\u52D2\u4E0B\u751F\u6210\u4F5B\u7D93",url:"/catalog/juan/T0454/1"},{title:"\u5730\u85CF\u83E9\u85A9\u672C\u9858\u7D93",url:"/catalog/juan/T0412/1"},{title:"\u5999\u6CD5\u84EE\u83EF\u7D93\u89C0\u4E16\u97F3\u83E9\u85A9\u666E\u9580\u54C1\u7D93",url:"/catalog/juan/T0262/7"},{title:"\u5927\u4F5B\u9802\u5982\u4F86\u5BC6\u56E0\u4FEE\u8B49\u4E86\u7FA9\u8AF8\u83E9\u85A9\u842C\u884C\u9996\u695E\u56B4\u7D93\u5377\u7B2C\u4E00",url:"/catalog/juan/T0945/1"},{title:"\u4F5B\u8AAA\u6CD5\u6EC5\u76E1\u7D93",url:"/catalog/juan/T0396/1"}]},G="cbetardb",W=3,y="store",Be=5,Q="font",A=[y,Q];let b,f,x=!1;async function L(){if(!x)return new Promise(s=>{const e=setInterval(()=>{x&&(clearInterval(e),s())},20)})}async function Ke(){if(!x)return new Promise((s,e)=>{b=indexedDB.open(G,W),b.onupgradeneeded=async t=>{f=t.target.result;let n;for(let r=0;r<A.length;r++){const a=A[r];f.objectStoreNames.contains(a)||(n=f.createObjectStore(a))}await new Promise((r,a)=>{if(!n){r();return}n.transaction.oncomplete=()=>{r()},n.transaction.onerror=c=>{a(`createObjectStore error: ${c.target.error}`)}}),x=!0,console.log(`IndexedDB upgraded to version: ${W}`)},b.onsuccess=t=>{f=t.target.result,f.version===W&&(x=!0),s(),console.log("IndexedDB opened successfully.")},b.onerror=t=>{e("Fail to create IndexedDB.")}})}async function Ie(){for(let s=0;s<A.length;s++)await J(A[s])}async function J(s){return new Promise((e,t)=>{const r=f.transaction([s],"readwrite").objectStore(s).clear();r.onsuccess=a=>e(),r.onerror=a=>t(`Clear IndexedDB failed: ${a.target.error}`)})}async function Me(s,e,t=y){return await L(),new Promise((n,r)=>{try{const c=f.transaction([t],"readwrite").objectStore(t).put(e,s);c.onsuccess=o=>n(),c.onerror=o=>r(`File ${s} saving failed: ${o.target.error}`)}catch(a){r(a)}})}async function qe(s,e=y){return await L(),new Promise((t,n)=>{try{const a=f.transaction([e],"readwrite").objectStore(e).delete(s);a.onsuccess=c=>t(),a.onerror=c=>n(`File ${s} removing failed: ${c.target.error}`)}catch(r){n(r)}})}async function Oe(s,e=y){return await L(),new Promise(function(t,n){try{let a=f.transaction([e],"readonly").objectStore(e).getKey(s);a.onsuccess=async function(c){const o=a.result;return o?t(o):n(`Key ${s} not found in IndexedDB`)}}catch(r){n(r)}})}async function je(s,e=y){return await L(),new Promise(function(t,n){try{let a=f.transaction([e],"readwrite").objectStore(e).get(s);a.onsuccess=async function(c){const o=a.result;return o?t(o):n(`File ${s} not found in IndexedDB.`)}}catch(r){n(r)}})}const z={cbetardb:G,dataStore:y,twKaiFontVersion:Be,fontStore:Q,open:Ke,clear:Ie,clearStore:J,saveFile:Me,removeFile:qe,getFile:je,checkKey:Oe};z.open().then(()=>{console.log("SW IndexedDB opened!")}).catch(s=>{console.log("SW IndexedDB failed!")});le();De([{"revision":"f2095e148f35657b54aa10d699a29675","url":"404.html"},{"revision":null,"url":"assets/index.72f37094.js"},{"revision":null,"url":"assets/index.d53a7d8c.css"},{"revision":null,"url":"assets/input-shims.7fe6c5ca.js"},{"revision":null,"url":"assets/ios.transition.7f1188a6.js"},{"revision":null,"url":"assets/md.transition.6254e00e.js"},{"revision":null,"url":"assets/status-tap.456cfad6.js"},{"revision":null,"url":"assets/swipe-back.d9c0ee21.js"},{"revision":null,"url":"assets/swiper.bundle.a76d5250.js"},{"revision":null,"url":"assets/tap-click.f18c9ddd.js"},{"revision":"c40def0ac63f5af813736ef5e4b0c721","url":"google77259a18f1184fa8.html"},{"revision":"68bc7d38d3d37007018313e6e3f81ceb","url":"index.html"}]);const ke=new RegExp("/[^/?]+\\.[^/]+$");F(({request:s,url:e})=>!(s.mode!=="navigate"||e.pathname.startsWith("/_")||e.pathname.match(ke)),be("/index.html"));F(({url:s})=>s.origin===self.location.origin&&s.pathname.endsWith(".png"),new We({cacheName:"images",plugins:[new pe({maxEntries:50})]}));const U=[];self.addEventListener("message",s=>{if(s.data)switch(s.data.type){case"SKIP_WAITING":self.skipWaiting();break;case"VIRTUAL_HTML":U.push({pathname:s.data.pathname,html:s.data.html}),s.ports[0].postMessage({type:"VIRTUAL_HTML",pathname:s.data.pathname});break}});F(({url:s})=>!!(s.origin===self.location.origin&&U.some(e=>e.pathname===s.pathname)),async({url:s})=>{const e=U.findIndex(r=>r.pathname===(s==null?void 0:s.pathname)),t=U.splice(e,1)[0],n=new Headers({"Content-Type":"text/html"});return new Response(t.html,{headers:n})});F(s=>s.url.host===Ne.indexedDBHost,async({url:s})=>{const e=await z.getFile((s==null?void 0:s.pathname)||"");return new Response(e)});
//# sourceMappingURL=service-worker.js.map
